@page "/"
@using BoardGame.Components;
@using BoardGame.Models;

<PageTitle>Board Game</PageTitle>

<Board Spaces="Spaces">
    @foreach(var space in Spaces) {
        <Space SpaceModel="space"/>
    }
</Board>

@code {
    List<SpaceModel> Spaces = new List<SpaceModel>();

    protected override void OnInitialized() {
        Spaces = Enumerable.Range(0, 36).Select((index) => new SpaceModel { 
            SpaceId = index,
            Tokens = new List<TokenModel>()
        }).ToList();
        Spaces.First().Tokens = new List<TokenModel> {
            new TokenModel { Id = 1 , SpaceId = 0},
            new TokenModel { Id = 2 , SpaceId = 0},
            new TokenModel { Id = 3 , SpaceId = 0}
        };
    }
}